{"openapi":"3.0.2","info":{"title":"token-manager","version":"0.1.0"},"servers":[{"url":"/api/tm"}],"paths":{"/v1/auth_data":{"get":{"tags":["auth data"],"summary":"Метод для получения пользовательских данных","description":"Метод позволяет получить пользовательские данные, в том числе wb_token.","operationId":"get_auth_data_v1_auth_data_get","parameters":[{"required":true,"schema":{"title":"X-User-Id","type":"string","format":"uuid4"},"name":"x-user-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDataGetResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["auth data"],"summary":"Метод сохраняет пользовательские данные","operationId":"create_auth_data_v1_auth_data_post","parameters":[{"required":true,"schema":{"title":"X-User-Id","type":"string","format":"uuid4"},"name":"x-user-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAuthData"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusRequest"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth_data/token":{"post":{"tags":["auth data"],"summary":"Метод сохраняет токен","operationId":"create_token_v1_auth_data_token_post","parameters":[{"required":true,"schema":{"title":"X-User-Id","type":"string","format":"uuid4"},"name":"x-user-id","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WbTokenAd"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusRequest"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth_data/update":{"get":{"tags":["auth data"],"summary":"Метод для обновления wb_token","description":"Метод для запроса на обновление wb_token.","operationId":"update_wb_token_v1_auth_data_update_get","parameters":[{"required":true,"schema":{"title":"Wb Token Access","type":"string"},"name":"wb_token_access","in":"query"},{"required":true,"schema":{"title":"X-User-Id","type":"string","format":"uuid4"},"name":"x-user-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusRequest"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/v1/auth_data/check":{"get":{"tags":["auth data"],"summary":"Метод для получения информации о наличии данных","description":"Метод возвращает информацию о наличии данных. Сами данные не возвращаются.","operationId":"check_auth_data_v1_auth_data_check_get","parameters":[{"required":true,"schema":{"title":"X-User-Id","type":"string","format":"uuid4"},"name":"x-user-id","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStatusRequest"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AuthDataGetResponse":{"title":"AuthDataGetResponse","type":"object","properties":{"wb_user_id":{"title":"Wb User Id","type":"integer"},"wb_supplier_id":{"title":"Wb Supplier Id","type":"string"},"wb_token_standart":{"title":"Wb Token Standart","type":"string"},"wb_token_stat":{"title":"Wb Token Stat","type":"string"},"wb_token_ad":{"title":"Wb Token Ad","type":"string"},"wb_token_access":{"title":"Wb Token Access","type":"string"}}},"CreateAuthData":{"title":"CreateAuthData","required":["wb_token_ad","wb_user_id","wb_supplier_id","wb_token_refresh"],"type":"object","properties":{"wb_token_ad":{"title":"Wb Token Ad","type":"string"},"wb_user_id":{"title":"Wb User Id","type":"integer"},"wb_supplier_id":{"title":"Wb Supplier Id","type":"string"},"wb_token_standart":{"title":"Wb Token Standart","type":"string"},"wb_token_stat":{"title":"Wb Token Stat","type":"string"},"wb_token_refresh":{"title":"Wb Token Refresh","type":"string"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"StatusRequest":{"title":"StatusRequest","required":["status"],"type":"object","properties":{"status":{"title":"Status","type":"string"}}},"UpdateStatusRequest":{"title":"UpdateStatusRequest","required":["status"],"type":"object","properties":{"status":{"title":"Status","type":"boolean"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"WbTokenAd":{"title":"WbTokenAd","required":["wb_token_ad"],"type":"object","properties":{"wb_token_ad":{"title":"Wb Token Ad","type":"string"}}}}}}
